system:
  description: System message for code summarization
  template: |
    You are an expert code analyst creating summaries for semantic search.

    Your summaries must:
    1. Capture the essential PURPOSE and BEHAVIOR with precise technical terminology
    2. Include KEYWORDS developers would search for (action verbs, domain terms, patterns)
    3. Mention KEY RELATIONSHIPS (what it calls, what calls it, what it extends)
    4. Be CONCISE but COMPLETE - every word should add searchable value
    5. Use NATURAL LANGUAGE matching how developers ask questions about code

    Answer: "What does this code do?" and "When would someone need this code?"

file:
  description: Prompt for generating file summaries
  template: |
    Analyze this source code file and create a search-optimized summary.

    File: {file_path}
    Language: {language}

    Code:
    ```{language}
    {content}
    ```

    Create a summary that enables developers to find this file when searching. Include:

    1. **Primary Purpose**: What problem does this file solve? What functionality does it
       provide? (Start with an action verb: "Handles...", "Provides...", "Implements...")

    2. **Key Components**: List the main classes/functions with their purposes.
       Use terminology developers would search for.

    3. **Integration Points**: What does this file depend on? What depends on it?
       (APIs, databases, external services, other modules)

    4. **Technical Patterns**: Name any design patterns, architectural patterns, or
       notable techniques (e.g., "singleton", "repository pattern", "event-driven").

    Write 3-5 sentences in natural language. Prioritize SEARCHABLE TERMS - include
    action verbs (create, validate, transform, fetch, authenticate) and domain-specific
    keywords that developers would use when looking for this functionality.

function:
  description: Prompt for generating function/method summaries
  template: |
    Analyze this function and create a search-optimized summary.

    Function: {entity_name}
    File: {file_path}
    Signature: {signature}

    Code:
    ```{language}
    {code}
    ```

    {docstring_section}

    Create a summary optimized for semantic search. Structure your response as:

    **What it does**: Start with a strong ACTION VERB describing the primary behavior
    (e.g., "Validates...", "Transforms...", "Fetches...", "Calculates..."). Be specific
    about WHAT is being acted upon.

    **How it works**: Briefly describe the key logic, algorithms, or techniques used.
    Mention any important libraries, APIs, or patterns.

    **When to use**: What problem does this solve? In what scenarios would a developer
    look for this function?

    Write 2-3 sentences total. Use terminology that matches how developers would search
    (e.g., "hash password" not "process credential", "parse JSON" not "handle data").

class:
  description: Prompt for generating class summaries
  template: |
    Analyze this class and create a search-optimized summary.

    Class: {entity_name}
    File: {file_path}

    Code:
    ```{language}
    {code}
    ```

    {docstring_section}

    Create a summary optimized for semantic search. Include:

    **Role & Responsibility**: What is this class's single responsibility? Use domain
    terms (e.g., "Repository for user data", "Service for payment processing",
    "Controller for API endpoints", "Model representing order entities").

    **Design Pattern**: If applicable, name the pattern (Factory, Singleton, Strategy,
    Observer, Repository, Service, DTO, Entity, etc.).

    **Key Capabilities**: What are the 2-3 most important methods? What operations does
    this class enable? Use action verbs.

    **Relationships**: What does it inherit from? What interfaces does it implement?
    What are its key dependencies?

    Write 3-4 sentences. Focus on SEARCHABLE TERMINOLOGY that developers would use when
    looking for this functionality. Include both the abstract concept ("handles auth")
    and concrete details ("validates JWT tokens").

overview:
  description: Prompt for generating codebase overview
  template: |
    Based on the file summaries, create a codebase overview.

    File summaries:
    {summaries}

    Create an overview that helps developers understand and navigate this codebase:

    **1. Purpose & Domain**: What problem does this codebase solve? What domain does it
       operate in? (e.g., "E-commerce platform", "API gateway", "Data pipeline")

    **2. Architecture**: Describe the high-level architecture and patterns used:
       - Architectural style (monolith, microservices, layered, event-driven, etc.)
       - Key design patterns employed
       - Technology stack highlights

    **3. Core Components**: List the main modules/packages and their responsibilities:
       - What each major component does
       - How they interact with each other

    **4. Key Flows**: Describe 2-3 important workflows:
       - Entry points (main functions, API endpoints, event handlers)
       - Critical data flows or request paths

    **5. Developer Guide**: What would a new developer need to know?
       - Where to look for common tasks
       - Important conventions or patterns to follow

    Use clear, searchable terminology. This overview helps developers find relevant code
    when they have questions about the system.
